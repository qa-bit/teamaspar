{% trans_default_domain 'staff' %}
{% extends "MotogpBundle:Default:base.html.twig" %}
{% block body_attrs %}
    {{ parent() }}
    team-staff
{% endblock %}
{% block afterheader %}
    <div class="team-staff-menu">
        <ul>
            <li><a class="active" href="#history">{{ "history" | trans }}</a></li>
            {% for r in riders %}
                <li><a href="#rider-{{ r.id }}">{{ r.name }} {{ r.surname }}</a></li>
            {% endfor %}
            <li><a href="#chart">{{ "organization_chart" | trans }}</a></li>
        </ul>
    </div>
{% endblock %}
{% block body %}
    {{ parent() }}
    {% include  "MotogpBundle:Default:Blocks/top-slider.html.twig" with {'gallery' : gallery }%}

    <div class="tabs">


        <div id="history" class="tab active">
            <div class="smoke-background">
                <div class="white-background white-background-2">
                    <div class="w100">
                        <h3 class="text-center"><b>{{ "history" | trans }}</b></h3>
                        <div class="col-xs-12">
                            <div class="section-separator" style="margin-bottom:2em;padding:.5em 0"></div>
                        </div>
                        <div style="padding: 3.5em">
                            {{ team.history | raw }}
                        </div>
                    </div>
                </div>
            </div>
        </div>

        {% for r in riders %}
            <div class="col-xs-12 rider-wrapper tab" id="rider-{{ r.id }}">
                <div class="col-xs-12">
                    <img class="rider-logo tcenter" src="{% path r.logo, 'big' %}" alt="" />
                </div>
                <div class="col-xs-12 text-center">
                    <span class="rider-name">{{ r.name }}</span><span class="rider-surname">{{ r.surname }}</span>
                </div>
                <div class="col-xs-12 rider-image-wrapper">
                    <img class="rider-image tcenter" src="{% path r.featuredMedia, 'big' %}" alt="" />
                </div>
                <div class="rider-staff-members col-xs-12 col-md-10 tcenter">
                    {% for t in r.staffMembers %}
                        <div class="staff-member">
                            <div class="staff-member-img-wrapp">
                                <img class="staff-member-image" src="{% path t.featuredMedia, 'big' %}" />
                            </div>
                            <h4>{{ t.name }}</h4>
                            <h5>{{ t.teamCategory.name }}</h5>
                            <div class="col-xs-12">
                                <img class="tcenter" src="{{ asset('/bundles/motogp/img/assets/flags/' ~ (t.country | lower) ~ '.png') }}" />
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        {% endfor %}

        <div id="chart" class="tab">
            <div class="smoke-background">
                <div class="white-background white-background-2">
                    <h3 class="text-center"><b>{{ "organization_chart" | trans }}</b></h3>
                    <div class="col-xs-12">
                        <div class="section-separator" style="margin-bottom:2em;padding:.5em 0"></div>
                    </div>
                    {% for tc in teamCategories %}
                        <div class="team-categories">
                            <div class="team-categories-wrapper" >
                                {% for t in staff %}
                                    {% if t.teamCategory.id == tc.id and t.rider is null %}
                                        <div class="staff-member" >
                                            <div class="staff-member-img-wrapp">
                                                <img class="staff-member-image" src="{% path t.featuredMedia, 'big' %}" />
                                            </div>
                                            <h4>{{ t.name }} {{ t.teamCategory.order }}</h4>
                                            <h5>{{ t.teamCategory.name }}</h5>
                                            <div class="col-xs-12">
                                                <img class="tcenter" src="{{ asset('/bundles/motogp/img/assets/flags/' ~ (t.country | lower) ~ '.png') }}" />
                                            </div>
                                        </div>
                                    {% endif %}
                                {% endfor %}
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>

    </div>
    <div class="relative">
        <div class="moto-bg moto-bg-motos">
            <img src="{{ asset('/bundles/motogp/img/assets/moto_lateral.png') }}" />
        </div>
    </div>
    {% include 'MotogpBundle:Default:footer.html.twig' %}
{% endblock %}